ENTITY RELATIONSHIP DIAGRAM - StyleIt Database
==============================================

┌─────────────────────────────────────────────────────────────────┐
│                         USERS                                    │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ _id (PK)          : ObjectId                              │  │
│  │ email             : String (Unique, Required)              │  │
│  │ password          : String (Hashed, Required)              │  │
│  │ name              : String (Required)                      │  │
│  │ role              : String (Enum: user/admin, Default: user)│ │
│  │ createdAt         : Date                                   │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             │ 1
                             │
                             │ has many
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
        │                    │                    │
        │ N                  │ N                  │ N
        │                    │                    │
┌───────┴────────┐  ┌────────┴────────┐  ┌────────┴────────┐
│ WARDROBE ITEMS │  │    OUTFITS     │  │ PLANNED OUTFITS│
│                │  │                │  │                │
│ ┌────────────┐│  │ ┌────────────┐│  │ ┌────────────┐│
│ │ _id (PK)   ││  │ │ _id (PK)   ││  │ │ _id (PK)   ││
│ │ user (FK)  ││  │ │ user (FK)  ││  │ │ user (FK)  ││
│ │ name       ││  │ │ name       ││  │ │ date       ││
│ │ category   ││  │ │ items[]    ││  │ │ outfit (FK)││
│ │ image      ││  │ │ occasion   ││  │ │ name       ││
│ │ tags[]     ││  │ │ confidence ││  │ │ occasion   ││
│ │ occasion   ││  │ │ lastWorn   ││  │ │ items[]    ││
│ │ Tags[]     ││  │ │ createdAt  ││  │ │ notes      ││
│ │ color      ││  │ └────────────┘│  │ │ createdAt  ││
│ │ colors     ││  │                │  │ └────────────┘│
│ │ description││  │ items[] contains:│                  │
│ │ style      ││  │ - name           │                  │
│ │ confidence ││  │ - category       │                  │
│ │ createdAt  ││  │ - image          │                  │
│ └────────────┘│  │ - tags[]         │                  │
│                │  │ - _id (ref to   │                  │
│                │  │   WardrobeItem) │                  │
│                │  └─────────────────┘                  │
└────────────────┘                                        │
                                                          │
                                                          │ optional
                                                          │ references
                                                          │
                                                          │ 0..1
                                                          │
                                                          │
                                                          │
                                                          │
                                                          │
                                                          │
┌─────────────────────────────────────────────────────────────────┐
│                      CATEGORIES                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ _id (PK)          : ObjectId                              │  │
│  │ id                : String (Unique, Required)              │  │
│  │ label             : String (Required)                     │  │
│  │ color             : String (Default: '#3b82f6')          │  │
│  │ order             : Number (Default: 0)                    │  │
│  │ keywords[]        : Array[String]                           │  │
│  │ createdAt         : Date                                   │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                   │
│  Default Categories:                                              │
│  - TOPS                                                           │
│  - BOTTOMS                                                        │
│  - SHOES                                                          │
│  - OUTERWEAR                                                      │
│  - ACCESSORIES                                                    │
└───────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                      OCCASIONS                                   │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ _id (PK)          : ObjectId                              │  │
│  │ id                : String (Unique, Required)              │  │
│  │ label             : String (Required)                     │  │
│  │ color             : String (Default: '#3b82f6')          │  │
│  │ order             : Number (Default: 0)                    │  │
│  │ keywords[]        : Array[String]                           │  │
│  │ createdAt         : Date                                   │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                   │
│  Default Occasions:                                               │
│  - CASUAL                                                         │
│  - FORMAL                                                         │
│  - WORK                                                           │
│  - SPORTY                                                         │
└───────────────────────────────────────────────────────────────────┘

RELATIONSHIPS:
--------------
1. User → WardrobeItems (One-to-Many)
   - One user can have many wardrobe items
   - Each wardrobe item belongs to one user

2. User → Outfits (One-to-Many)
   - One user can have many saved outfits
   - Each outfit belongs to one user

3. User → PlannedOutfits (One-to-Many)
   - One user can have many planned outfits
   - Each planned outfit belongs to one user

4. Outfit → PlannedOutfit (One-to-One, Optional)
   - A planned outfit can optionally reference a saved outfit
   - A saved outfit can be used in multiple planned outfits

5. WardrobeItem → Outfit.items (Many-to-Many, Embedded)
   - Outfit items are embedded in Outfit documents
   - Items reference WardrobeItem via _id field

6. Categories (Standalone)
   - Categories are system-wide, not user-specific
   - Used for AI matching and filtering

7. Occasions (Standalone)
   - Occasions are system-wide, not user-specific
   - Used for filtering and recommendations

